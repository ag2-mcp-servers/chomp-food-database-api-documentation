# generated by fastapi-codegen:
#   filename:  openapi.yaml
#   timestamp: 2025-06-28T17:53:32+00:00



import argparse
import json
import os
from typing import *
from typing import Optional

from autogen.mcp.mcp_proxy import MCPProxy
from autogen.mcp.mcp_proxy.security import APIKeyQuery, BaseSecurity

from models import BrandedFoodObject, Diet, IngredientObject, Limit, Limit4

app = MCPProxy(
    contact={'x-twitter': 'chomp_this_'},
    description='## Important\nAn **[API key](https://chompthis.com/api/)** is required for access to this API. Get yours at **[https://chompthis.com/api](https://chompthis.com/api/)**.\n\n### Getting Started\n  * **[Subscribe](https://chompthis.com/api/#pricing)** to the API.\n  * Scroll down and click the "**Authorize**" button.\n  * Enter your API key into the "**value**" input, click the "**Authorize**" button, then click the "**Close**" button.\n  * Scroll down to the section titled "**default**" and click on the API endpoint you wish to use.\n  * Click the "**Try it out**" button.\n  * Enter the information the endpoint requires.\n  * Click the "**Execute**" button.\n\n### Example \n  * Branded food response object: **[View example &raquo;](https://raw.githubusercontent.com/chompfoods/examples/master/branded-food-response-object.json)**\n  * Ingredient response object: **[View example &raquo;](https://raw.githubusercontent.com/chompfoods/examples/master/ingredient-response-object.json)**\n  * Error response object: **[View example &raquo;](https://raw.githubusercontent.com/chompfoods/examples/master/error-response-object.json)**\n\n### How Do I Find My API Key?\n  * Your API key was sent to the email address you used to create your subscription.\n  * You will also find your API key in the **[Client Center](https://chompthis.com/api/manage.php)**.\n  * Read **[this article](https://desk.zoho.com/portal/chompthis/kb/articles/how-do-i-find-my-api-key)** for more information.\n\n### Helpful Links\n  * **Help & Support**\n    * [Knowledge Base &raquo;](https://desk.zoho.com/portal/chompthis/kb/chomp)\n    * [Support &raquo;](https://chompthis.com/api/ticket-new.php)\n    * [Client Center &raquo;](https://chompthis.com/api/manage.php)\n  * **Pricing**\n    * [Subscription Options &raquo;](https://chompthis.com/api/)\n    * [Cost Calculator &raquo;](https://chompthis.com/api/cost-calculator.php)\n  * **Guidelines**\n    * [Terms & License &raquo;](https://chompthis.com/api/terms.php)\n    * [Attribution &raquo;](https://chompthis.com/api/docs/attribution.php)\n',
    title='Chomp Food Database API Documentation',
    version='1.0.0-oas3',
    servers=[
        {
            'description': 'Production server (uses live data)',
            'url': 'https://chompthis.com/api/v2',
        }
    ],
)


@app.get(
    '/food/branded/barcode.php',
    description=""" ## Get data for a branded food using the food's UPC/EAN barcode.

**Example** 
> ```https://chompthis.com/api/v2/food/branded/barcode.php?api_key=API_KEY&code=CODE```

**Tips**
  * Read our **[Knowledge Base article](https://desk.zoho.com/portal/chompthis/kb/articles/im-having-trouble-getting-matches-for-barcodes-what-can-id-do)** for helpful tips and tricks.
 """,
    tags=['branded_food_management'],
    security=[
        APIKeyQuery(name="api_key"),
    ],
)
def get_food_branded_barcode_php(code: str):
    """
    Get a branded food item using a barcode
    """
    raise RuntimeError("Should be patched by MCPProxy and never executed")


@app.get(
    '/food/branded/name.php',
    description=""" ## Search for branded food items by name.

**Example**
> ```https://chompthis.com/api/v2/food/branded/name.php?api_key=API_KEY&name=NAME```

**Tips**
  * Get started by using our **[food lookup tool](https://chompthis.com/api/lookup.php)**.

> This API endpoint is only available to Standard and Premium API subscribers. Please consider upgrading your subscription if you are subscribed to the Limited plan. **[Read this](https://desk.zoho.com/portal/chompthis/kb/articles/can-i-upgrade-downgrade-my-subscription)** if you aren't sure how to upgrade your subscription.
 """,
    tags=['branded_food_management'],
    security=[
        APIKeyQuery(name="api_key"),
    ],
)
def get_food_branded_name_php(
    name: str, limit: Optional[Limit] = None, page: Optional[int] = None
):
    """
    Get a branded food item by name
    """
    raise RuntimeError("Should be patched by MCPProxy and never executed")


@app.get(
    '/food/branded/search.php',
    description=""" ## Search for branded food items using various parameters.

**Example**
> ```https://chompthis.com/api/v2/food/branded/search.php?api_key=API_KEY&brand=BRAND&country=COUNTRY&page=1```

**Tips** 
  * Get started by using the **[Query Builder](https://chompthis.com/api/build.php)**.

> This API endpoint is only available to Standard and Premium API subscribers. Please consider upgrading your subscription if you are subscribed to the Limited plan. **[Read this](https://desk.zoho.com/portal/chompthis/kb/articles/can-i-upgrade-downgrade-my-subscription)** if you aren't sure how to upgrade your subscription.
 """,
    tags=['branded_food_management', 'ingredient_lookup_operations'],
    security=[
        APIKeyQuery(name="api_key"),
    ],
)
def get_food_branded_search_php(
    allergen: Optional[str] = None,
    brand: Optional[str] = None,
    category: Optional[str] = None,
    country: Optional[str] = None,
    diet: Optional[Diet] = None,
    ingredient: Optional[str] = None,
    keyword: Optional[str] = None,
    mineral: Optional[str] = None,
    nutrient: Optional[str] = None,
    palm_oil: Optional[str] = None,
    trace: Optional[str] = None,
    vitamin: Optional[str] = None,
    limit: Optional[Limit] = None,
    page: Optional[int] = None,
):
    """
    Get data for branded food items using various search parameters
    """
    raise RuntimeError("Should be patched by MCPProxy and never executed")


@app.get(
    '/food/ingredient/search.php',
    description=""" ## Get data for a specific ingredient or a specific set of ingredients.

**Example #1: Single Ingredient**
> ```https://chompthis.com/api/v2/ingredient/search.php?api_key=API_KEY&find=raw broccoli```

**Example #2: Set of Ingredients**
> ```https://chompthis.com/api/v2/ingredient/search.php?api_key=API_KEY&find=raw broccoli,mashed potatoes,chicken drumstick```

**Tips**
  * Expose ingredient endpoints by using our **[food lookup tool](https://chompthis.com/api/lookup.php)**.

> This API endpoint is only available to Standard and Premium API subscribers. Please consider upgrading your subscription if you are subscribed to the Limited plan. **[Read this](https://desk.zoho.com/portal/chompthis/kb/articles/can-i-upgrade-downgrade-my-subscription)** if you aren't sure how to upgrade your subscription.
 """,
    tags=['ingredient_lookup_operations'],
    security=[
        APIKeyQuery(name="api_key"),
    ],
)
def get_food_ingredient_search_php(find: str, limit: Optional[Limit4] = None):
    """
    Get raw/generic food ingredient item(s)
    """
    raise RuntimeError("Should be patched by MCPProxy and never executed")


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="MCP Server")
    parser.add_argument(
        "transport",
        choices=["stdio", "sse", "streamable-http"],
        help="Transport mode (stdio, sse or streamable-http)",
    )
    args = parser.parse_args()

    if "CONFIG_PATH" in os.environ:
        config_path = os.environ["CONFIG_PATH"]
        app.load_configuration(config_path)

    if "CONFIG" in os.environ:
        config = os.environ["CONFIG"]
        app.load_configuration_from_string(config)

    if "SECURITY" in os.environ:
        security_params = BaseSecurity.parse_security_parameters_from_env(
            os.environ,
        )

        app.set_security_params(security_params)

    mcp_settings = json.loads(os.environ.get("MCP_SETTINGS", "{}"))

    app.get_mcp(**mcp_settings).run(transport=args.transport)
